<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" href="appicon.png" sizes="512x512" type="image/png">

<!-- Add iOS meta tags and icons -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="MetaMic">
<link rel="apple-touch-icon" href="appicon.png">

<!-- OpenGraph tags -->
<meta property="og:title" content="MetaMic" />
<meta property="og:description" content="MetaMic" />
<meta property="og:image" content="appicon.png" />
<meta property="og:image:secure_url" content="appicon.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />

<!-- PWA manifest -->
<link rel="manifest" href="app.webmanifest">

<!-- Web-app ID -->
<meta name="aton:appid" content="metamic">

<meta name="title" content="MetaMic">
<meta name="description" content="MetaMic">

<!-- Add meta theme-color -->
<meta name="theme-color" content="#000000" />

<title>MetaMic</title>
<link rel="stylesheet" type="text/css" href="/vendors/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/res/css/main.css">

<script type="text/javascript" src="/vendors/vendors.min.js"></script>
<script type="text/javascript" src="/vendors/bootstrap/js/bootstrap.bundle.min.js"></script>

<script type="text/javascript" src="/dist/THREE.bundle.js"></script>
<!-- 
<script type="text/javascript" src="/dist/ATON.min.js"></script>
-->
<script type="module" src="/src/ATON.js"></script>

<!-- -->
<script>
window.addEventListener( 'load', ()=>{
    const elC = ATON.UI.get("container");

    ATON.realize(true);

    const params = new URLSearchParams( window.location.search );
    let sid = params.get("s");

    if (sid){
        ATON.Photon.disableSpatiality();
        ATON.Photon.setAvatarsVisibility(false);

        ATON.Photon.connect(sid);

        ATON.Photon.on("KaptoSessionID", sesid =>{
            let v = sesid.split("_");
            $("#session").html(v[1]);
        });
    }
    else {

    }
});

</script>
</head>

<body>
    <div id="container" style="padding: 20px; text-align: center;">
        <h1 id="session">Session ID</h1>

    </div>
</body>